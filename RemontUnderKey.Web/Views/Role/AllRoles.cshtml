@model Dictionary<string, List<string>>

@{
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
}

@section Body{

    <p></p>
    <table class="table" border="1" cellspacing="0" align="center">
        <tr align="center">
            <th colspan="5" align="center" valign="middle">
                @ViewBag.Header
            </th>
        </tr>
        <tr align="center">
            <th align="center">
                № п/п
            </th>
            <th align="center">
                ПОЛЬЗОВАТЕЛЬ
            </th>
            <th align="center">
                ID ПОЛЬЗОВАТЕЛЯ
            </th>
            <th align="center">
                РОЛЬ
            </th>
            <th align="center">
                ДЕЙСТВИЯ НАД РОЛЯМИ ПОЛЬЗОВАТЕЛЯ
            </th>
        </tr>
        @{
            int num = ViewBag.Num;
            int num2 = ViewBag.Num2;
        }
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @(num = num + 1)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Key)
                </td>
                <td>
                    @ViewBag.ListUserId[num2]
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Value)
                </td>
                <td>
                    <table border="0" cellpadding="0" align="center">
                        <tr>
                            <td align="center">
                                <form>
                                    <button type="button">
                                        <p>
                                            @Html.ActionLink("Добавить новую роль", "AddNewRole", new { id = @ViewBag.ListUserId[num2] })
                                        </p>
                                    </button>
                                </form>
                            </td>
                            <td align="center">
                                <form>
                                    <button type="button">
                                        <p>
                                        <p>
                                            @Html.ActionLink("Удалить существующую роль", "", new { id = @ViewBag.ListUserId[num2] })
                                        </p>
                                    </button>
                                </form>
                                @(num2 = num2 + 1)
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        }
    </table>

    <p></p>

    <div style="text-align: center;  margin-top: 5px; color: red;">
        @TempData["resredir"]
    </div>

    <div style="text-align: center;  margin-top: 15px;">
        @Html.Action("AddNewRoleInDB_Admin")
    </div>

    <div style="text-align: center; margin-top: 15px;">
        @Html.ActionLink("АДМИН-ПАНЕЛЬ", "AdminPanel", "Admin")
    </div>
}



