@using RemontUnderKey.Web.Models
@model Upload_View
@section Header {
    <style>
        /* Базовые стили слоя затемнения и модального окна  */
        .overlay {
            text-align: center;
            vertical-align: central;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 10;
            display: none; /*модальное окно скрыто, пока пользователь не кликнет ссылку*/
            /* фон затемнения */
            background-color: rgba(0, 0, 0, 0.65);
            position: fixed; /* фиксированное поцизионирование */
            cursor: default; /* тип курсара */
        }
            /* активируем слой затемнения */
            .overlay:target {
                display: block;
            }
        /* стили модального окна */
        .popup {
            text-align: center;
            top: -3%;
            right: 0;
            left: 50%;
            z-index: 20;
            margin: 0;
            width: 50%;
            height: auto;
            /* фиксированное позиционирование, окно стабильно при прокрутке */
            position: fixed;
            padding: 5px 5px 5px 5px;
            border: 1px solid #383838;
            background: #000000;
            /* скругление углов */
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            -ms-border-radius: 4px;
            border-radius: 4px;
            /* внешняя тень */
            -webkit-box-shadow: 0 15px 20px rgba(0,0,0,.22),0 19px 60px rgba(0,0,0,.3);
            -moz-box-shadow: 0 15px 20px rgba(0,0,0,.22),0 19px 60px rgba(0,0,0,.3);
            -ms-box-shadow: 0 15px 20px rgba(0,0,0,.22),0 19px 60px rgba(0,0,0,.3);
            box-shadow: 0 15px 20px rgba(0,0,0,.22),0 19px 60px rgba(0,0,0,.3);
            -webkit-transform: translate(-50%, -500%);
            -ms-transform: translate(-50%, -500%);
            -o-transform: translate(-50%, -500%);
            transform: translate(-50%, -500%);
            -webkit-transition: -webkit-transform 0.6s ease-out;
            -moz-transition: -moz-transform 0.6s ease-out;
            -o-transition: -o-transform 0.6s ease-out;
            transition: transform 0.6s ease-out;
        }
        /* активируем модальный блок */
        .overlay:target + .popup {
            -webkit-transform: translate(-50%, 0);
            -ms-transform: translate(-50%, 0);
            -o-transform: translate(-50%, 0);
            transform: translate(-50%, 0);
            top: 20%;
        }

        .close {
            top: -10px;
            right: -10px;
            width: 20px;
            height: 20px;
            position: absolute;
            padding: 0;
            font-size: medium;
            border: 2px solid #ccc;
            -webkit-border-radius: 15px;
            -moz-border-radius: 15px;
            -ms-border-radius: 15px;
            -o-border-radius: 15px;
            border-radius: 15px;
            background-color: rgba(61, 61, 61, 0.8);
            -webkit-box-shadow: 0px 0px 10px #000;
            -moz-box-shadow: 0px 0px 10px #000;
            box-shadow: 0px 0px 10px #000;
            text-align: center;
            text-decoration: none;
            -webkit-transition: all ease .8s;
            -moz-transition: all ease .8s;
            -ms-transition: all ease .8s;
            -o-transition: all ease .8s;
            transition: all ease .8s;
        }

            .close:before {
                color: rgba(255, 255, 255, 0.9);
                content: "X";
                text-shadow: 0 -1px rgba(0, 0, 0, 0.9);
            }

            .close:hover {
                background-color: rgba(252, 20, 0, 0.8);
                -webkit-transform: rotate(360deg);
                -moz-transform: rotate(360deg);
                -ms-transform: rotate(360deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        /* изображения внутри окна */
        .popup img {
            width: auto;
            height: auto;
            text-align: center;
            vertical-align: top;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .block {
            display: block;
            float: left;
            opacity: 1;
            -webkit-transform: scale(1,1);
            -webkit-transition-timing-function: ease-out;
            -webkit-transition-duration: 550ms;
            -moz-transform: scale(1,1);
            -moz-transition-timing-function: ease-out;
            -moz-transition-duration: 550ms;
        }

            .block:hover {
                -webkit-transform: scale(1.2,1.2);
                -webkit-transition-timing-function: ease-out;
                -webkit-transition-duration: 550ms;
                -moz-transform: scale(1.2,1.2);
                -moz-transition-timing-function: ease-out;
                -moz-transition-duration: 550ms;
            }
    </style>
}
@{
    if (@Model != null)
    {
        int lenthoffile = @Model.File.Length;
        string imageBase64 = Convert.ToBase64String(@Model.File);
        string imageType = @Model.FileType;
        string imageSrc = string.Format("data:{1};base64,{0}", imageBase64, imageType);

        <span class="block">
            <a href="#@Model.Id">
                <img src="@imageSrc" width="150" height="150" alt="@Model.FileName" />
            </a>
        </span>
        <!-- Модальное окно -->
        <a href="#x" class="overlay" id="@Model.Id"></a>
        <div class="popup2">
            <img src="@imageSrc" alt="@Model.FileName" height="550" />
            <a class="close" title="ЗАКРЫТЬ" href="#close"></a>
        </div>
    }
}
